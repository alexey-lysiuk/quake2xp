/*
Berserker's save game
Savegame from an older version fix
*/
 /*
#include "g_local.h"

void	*savefuncs[] = {
	actor_attack,
	actor_dead,
	actor_die,
	actor_fire,
	actor_pain,
	actor_run,
	actor_stand,
	actor_use,
	actor_walk,
	ai_charge,
	ai_move,
	ai_run,
	ai_stand,
	ai_turn,
	ai_walk,
	AngleMove_Begin,
	AngleMove_Done,
	AngleMove_Final,
	barrel_delay,
	barrel_explode,
	barrel_touch,
	berserk_attack_club,
	berserk_attack_spike,
	berserk_dead,
	berserk_die,
	berserk_fidget,
	berserk_melee,
	berserk_pain,
	berserk_run,
	berserk_search,
	berserk_sight,
	berserk_stand,
	berserk_strike,
	berserk_swing,
	berserk_walk,
	bfg_explode,
	bfg_think,
	bfg_touch,
	blaster_touch,
	body_die,
	boss2_attack,
	boss2_attack_mg,
	Boss2_CheckAttack,
	boss2_dead,
	boss2_die,
	boss2_pain,
	boss2_reattack_mg,
	boss2_run,
	boss2_search,
	boss2_stand,
	boss2_walk,
	Boss2MachineGun,
	Boss2Rocket,
	BossExplode,
	brain_chest_closed,
	brain_chest_open,
	brain_dead,
	brain_die,
	brain_dodge,
	brain_duck_down,
	brain_duck_hold,
	brain_duck_up,
	brain_hit_left,
	brain_hit_right,
	brain_idle,
	brain_melee,
	brain_pain,
	brain_run,
	brain_search,
	brain_sight,
	brain_stand,
	brain_swing_left,
	brain_swing_right,
	brain_tentacle_attack,
	brain_walk,
	button_done,
	button_killed,
	button_return,
	button_touch,
	button_use,
	button_wait,
	chick_attack,
	chick_attack1,
	chick_dead,
	chick_die,
	chick_dodge,
	chick_duck_down,
	chick_duck_hold,
	chick_duck_up,
	chick_fidget,
	chick_melee,
	chick_pain,
	Chick_PreAttack1,
	chick_rerocket,
	chick_reslash,
	chick_run,
	chick_sight,
	chick_slash,
	chick_stand,
	chick_walk,
	ChickMoan,
	ChickReload,
	ChickRocket,
	ChickSlash,
	commander_body_drop,
	commander_body_think,
	commander_body_use,
	debris_die,
	door_blocked,
	door_go_down,
	door_hit_bottom,
	door_hit_top,
	door_killed,
	door_secret_blocked,
	door_secret_die,
	door_secret_done,
	door_secret_move1,
	door_secret_move2,
	door_secret_move3,
	door_secret_move4,
	door_secret_move5,
	door_secret_move6,
	door_secret_use,
	door_touch,
	door_use,
	DoRespawn,
	Drop_Ammo,
	Drop_General,
	drop_make_touchable,
	Drop_PowerArmor,
	drop_temp_touch,
	Drop_Weapon,
	droptofloor,
	flipper_bite,
	flipper_dead,
	flipper_die,
	flipper_melee,
	flipper_pain,
	flipper_preattack,
	flipper_run,
	flipper_run_loop,
	flipper_sight,
	flipper_stand,
	flipper_start_run,
	flipper_walk,
	floater_attack,
	floater_dead,
	floater_die,
	floater_fire_blaster,
	floater_idle,
	floater_melee,
	floater_pain,
	floater_run,
	floater_sight,
	floater_stand,
	floater_walk,
	floater_wham,
	floater_zap,
	flyer_attack,
	flyer_check_melee,
	flyer_die,
	flyer_fireleft,
	flyer_fireright,
	flyer_idle,
	flyer_loop_melee,
	flyer_melee,
	flyer_nextmove,
	flyer_pain,
	flyer_pop_blades,
	flyer_run,
	flyer_sight,
	flyer_slash_left,
	flyer_slash_right,
	flyer_stand,
	flyer_walk,
	flymonster_start_go,
	flyQbe_attack,
	flyQbe_die,
	flyQbe_none,
	flyQbe_none_sight,
	flyQbe_pain,
	flyQbe_stand,
	func_clock_think,
	func_clock_use,
	func_conveyor_use,
	func_explosive_explode,
	func_explosive_spawn,
	func_explosive_use,
	func_object_release,
	func_object_touch,
	func_object_use,
	func_timer_think,
	func_timer_use,
	func_train_find,
	func_wall_use,
	G_FreeEdict,
	G_FreeEdictExt,
	GaldiatorMelee,
	gib_die,
	gib_think,
	gib_touch,
	gladiator_attack,
	gladiator_cleaver_swing,
	gladiator_dead,
	gladiator_die,
	gladiator_idle,
	gladiator_melee,
	gladiator_pain,
	gladiator_run,
	gladiator_search,
	gladiator_sight,
	gladiator_stand,
	gladiator_walk,
	GladiatorGun,
	Grenade_Explode,
	Grenade_Touch,
	gunner_attack,
	gunner_dead,
	gunner_die,
	gunner_dodge,
	gunner_duck_down,
	gunner_duck_hold,
	gunner_duck_up,
	gunner_fidget,
	gunner_fire_chain,
	gunner_idlesound,
	gunner_opengun,
	gunner_pain,
	gunner_refire_chain,
	gunner_run,
	gunner_search,
	gunner_sight,
	gunner_stand,
	gunner_walk,
	GunnerGrenade,
	hover_attack,
	hover_dead,
	hover_deadthink,
	hover_die,
	hover_fire_blaster,
	hover_pain,
	hover_reattack,
	hover_run,
	hover_search,
	hover_sight,
	hover_stand,
	hover_start_attack,
	hover_walk,
	hurt_touch,
	hurt_use,
	infantry_attack,
	infantry_cock_gun,
	infantry_dead,
	infantry_die,
	infantry_dodge,
	infantry_duck_down,
	infantry_duck_hold,
	infantry_duck_up,
	infantry_fidget,
	infantry_fire,
	infantry_pain,
	infantry_run,
	infantry_sight,
	infantry_smack,
	infantry_stand,
	infantry_swing,
	infantry_walk,
	InfantryMachineGun,
	insane_checkdown,
	insane_checkup,
	insane_cross,
	insane_dead,
	insane_die,
	insane_fist,
	insane_moan,
	insane_onground,
	insane_pain,
	insane_run,
	insane_scream,
	insane_shake,
	insane_stand,
	insane_walk,
	jorg_attack,
	jorg_attack1,
	Jorg_CheckAttack,
	jorg_dead,
	jorg_die,
	jorg_firebullet,
	jorg_idle,
	jorg_pain,
	jorg_reattack1,
	jorg_run,
	jorg_search,
	jorg_stand,
	jorg_step_left,
	jorg_step_right,
	jorg_walk,
	jorgBFG,
	light_use,
	M_CheckAttack,
	M_droptofloor,
	M_FliesOff,
	M_FliesOn,
	M_FlyQbeOn,
	makron_attack,
	makron_brainsplorch,
	Makron_CheckAttack,
	makron_dead,
	makron_die,
	makron_hit,
	makron_pain,
	makron_popup,
	makron_prerailgun,
	makron_run,
	makron_sight,
	makron_stand,
	makron_step_left,
	makron_step_right,
	makron_taunt,
	makron_torso_think,
	makron_walk,
	makronBFG,
	MakronHyperblaster,
	MakronRailgun,
	MakronSaveloc,
	MakronSpawn,
	MakronToss,
	medic_attack,
	medic_cable_attack,
	medic_checkattack,
	medic_continue,
	medic_dead,
	medic_die,
	medic_dodge,
	medic_duck_down,
	medic_duck_hold,
	medic_duck_up,
	medic_fire_blaster,
	medic_hook_launch,
	medic_idle,
	medic_pain,
	medic_run,
	medic_search,
	medic_sight,
	medic_stand,
	medic_walk,
	MegaHealth_think,
	misc_banner_think,
	misc_blackhole_think,
	misc_blackhole_use,
	misc_deadsoldier_die,
	misc_easterchick_think,
	misc_easterchick2_think,
	misc_eastertank_think,
	misc_satellite_dish_think,
	misc_satellite_dish_use,
	misc_strogg_ship_use,
	misc_viper_bomb_prethink,
	misc_viper_bomb_touch,
	misc_viper_bomb_use,
	misc_viper_use,
	model_think,
	model_use,
	monster_think,
	monster_triggered_spawn,
	monster_triggered_spawn_use,
	monster_use,
	Move_Begin,
	Move_Done,
	Move_Final,
	multi_wait,
	mutant_check_landing,
	mutant_check_refire,
	mutant_checkattack,
	mutant_dead,
	mutant_die,
	mutant_hit_left,
	mutant_hit_right,
	mutant_idle,
	mutant_idle_loop,
	mutant_jump,
	mutant_jump_takeoff,
	mutant_jump_touch,
	mutant_melee,
	mutant_pain,
	mutant_run,
	mutant_search,
	mutant_sight,
	mutant_stand,
	mutant_step,
	mutant_walk,
	mutant_walk_loop,
	parasite_attack,
	parasite_dead,
	parasite_die,
	parasite_do_fidget,
	parasite_drain_attack,
	parasite_idle,
	parasite_launch,
	parasite_pain,
	parasite_reel_in,
	parasite_refidget,
	parasite_run,
	parasite_scratch,
	parasite_sight,
	parasite_stand,
	parasite_start_run,
	parasite_start_walk,
	parasite_tap,
	parasite_walk,
	path_corner_touch,
	Pickup_Adrenaline,
	Pickup_Ammo,
	Pickup_AncientHead,
	Pickup_Armor,
	Pickup_Bandolier,
	Pickup_Health,
	Pickup_Key,
	Pickup_Pack,
	Pickup_PowerArmor,
	Pickup_Powerup,
	Pickup_Weapon,
	plat_blocked,
	plat_go_down,
	plat_hit_bottom,
	plat_hit_top,
	player_die,
	player_pain,
	point_combat_touch,
	rocket_touch,
	rotating_blocked,
	rotating_touch,
	rotating_use,
	soldier_attack,
	soldier_attack1_refire1,
	soldier_attack1_refire2,
	soldier_attack2_refire1,
	soldier_attack2_refire2,
	soldier_attack3_refire,
	soldier_attack6_refire,
	soldier_cock,
	soldier_dead,
	soldier_die,
	soldier_dodge,
	soldier_duck_down,
	soldier_duck_hold,
	soldier_duck_up,
	soldier_fire1,
	soldier_fire2,
	soldier_fire3,
	soldier_fire4,
	soldier_fire6,
	soldier_fire7,
	soldier_fire8,
	soldier_idle,
	soldier_pain,
	soldier_run,
	soldier_sight,
	soldier_stand,
	soldier_walk,
	soldier_walk1_random,
	SP_monster_flyQbe,
	SP_monster_flyQbe1,
	SP_monster_flyQbe2,
	supertank_attack,
	supertank_dead,
	supertank_die,
	supertank_pain,
	supertank_reattack1,
	supertank_run,
	supertank_search,
	supertank_stand,
	supertank_walk,
	supertankMachineGun,
	supertankRocket,
	swimmonster_start_go,
	tank_attack,
	tank_dead,
	tank_die,
	tank_doattack_rocket,
	tank_footstep,
	tank_idle,
	tank_pain,
	tank_poststrike,
	tank_reattack_blaster,
	tank_refire_rocket,
	tank_run,
	tank_sight,
	tank_stand,
	tank_thud,
	tank_walk,
	tank_windup,
	TankBlaster,
	TankMachineGun,
	TankRocket,
	TankStrike,
	target_actor_touch,
	target_crosslevel_target_think,
	target_damage_use,
	target_earthquake_think,
	target_earthquake_use,
	target_explosion_explode,
	target_kill_use,
	target_laser_start,
	target_laser_think,
	target_laser_use,
	target_lightramp_think,
	target_lightramp_use,
	target_string_use,
	teleport_effect_think,
	teleporter_touch,
	teleporter_use,
	Think_AccelMove,
	Think_Boss3Stand,
	Think_CalcMoveSpeed,
	Think_Delay,
	Think_SpawnDoorTrigger,
	Touch_DoorTrigger,
	Touch_Item,
	Touch_Multi,
	Touch_Plat_Center,
	train_blocked,
	train_next,
	train_use,
	train_wait,
	TreadSound,
	trigger_counter_use,
	trigger_crosslevel_trigger_use,
	trigger_elevator_init,
	trigger_elevator_use,
	trigger_enable,
	trigger_gravity_touch,
	trigger_key_use,
	trigger_monsterjump_touch,
	trigger_push_touch,
	trigger_relay_use,
	turret_blocked,
	turret_breach_finish_init,
	turret_breach_think,
	turret_driver_die,
	turret_driver_link,
	turret_driver_think,
	Use_Areaportal,
	Use_Boss3,
	Use_Breather,
	Use_Envirosuit,
	Use_Invisibility,
	Use_Invulnerability,
	Use_Item,
	use_killbox,
	Use_Multi,
	Use_Plat,
	Use_PowerArmor,
	Use_Quad,
	Use_Silencer,
	use_target_blaster,
	use_target_changelevel,
	use_target_explosion,
	Use_Target_Give,
	use_target_goal,
	Use_Target_Help,
	use_target_secret,
	use_target_spawner,
	Use_Target_Speaker,
	use_target_splash,
	Use_Target_Tent,
	Use_Weapon,
	walkmonster_start_go,
	Weapon_BFG,
	Weapon_Blaster,
	Weapon_Chaingun,
	Weapon_Grenade,
	Weapon_GrenadeLauncher,
	Weapon_HyperBlaster,
	Weapon_Machinegun,
	Weapon_Railgun,
	Weapon_RocketLauncher,
	Weapon_Shotgun,
	Weapon_SuperShotgun,
	monster_respawn
};

int FunctionToIndex(void *func)
{
	int i;
	int size = sizeof(savefuncs) / sizeof(void*);
	for (i = 0; i<size; i++)
		if (savefuncs[i] == func)
			return i;
	gi.error("FunctionToIndex: unknown function\n");
	return 0;		// shut up compiler :(
}


void *IndexToFunction(int index)
{
	int size = sizeof(savefuncs) / sizeof(void*);
	if (index < size)
		return savefuncs[index];
	gi.error("IndexToFunction: unknown index\n");
	return NULL;		// shut up compiler :(
}


void	*savemmoves[] = {
	&actor_move_attack,
	&actor_move_death1,
	&actor_move_death2,
	&actor_move_flipoff,
	&actor_move_pain1,
	&actor_move_pain2,
	&actor_move_pain3,
	&actor_move_run,
	&actor_move_stand,
	&actor_move_taunt,
	&actor_move_walk,
	&berserk_move_attack_club,
	&berserk_move_attack_spike,
	&berserk_move_attack_strike,
	&berserk_move_death1,
	&berserk_move_death2,
	&berserk_move_pain1,
	&berserk_move_pain2,
	&berserk_move_run1,
	&berserk_move_stand,
	&berserk_move_stand_fidget,
	&berserk_move_walk,
	&boss2_move_attack_mg,
	&boss2_move_attack_post_mg,
	&boss2_move_attack_pre_mg,
	&boss2_move_attack_rocket,
	&boss2_move_death,
	&boss2_move_fidget,
	&boss2_move_pain_heavy,
	&boss2_move_pain_light,
	&boss2_move_run,
	&boss2_move_stand,
	&boss2_move_walk,
	&brain_move_attack1,
	&brain_move_attack2,
	&brain_move_death1,
	&brain_move_death2,
	&brain_move_defense,
	&brain_move_duck,
	&brain_move_idle,
	&brain_move_pain1,
	&brain_move_pain2,
	&brain_move_pain3,
	&brain_move_run,
	&brain_move_stand,
	&brain_move_walk1,
	&chick_move_attack1,
	&chick_move_death1,
	&chick_move_death2,
	&chick_move_duck,
	&chick_move_end_attack1,
	&chick_move_end_slash,
	&chick_move_fidget,
	&chick_move_pain1,
	&chick_move_pain2,
	&chick_move_pain3,
	&chick_move_run,
	&chick_move_slash,
	&chick_move_stand,
	&chick_move_start_attack1,
	&chick_move_start_run,
	&chick_move_start_slash,
	&chick_move_walk,
	&flipper_move_attack,
	&flipper_move_death,
	&flipper_move_pain1,
	&flipper_move_pain2,
	&flipper_move_run_loop,
	&flipper_move_run_start,
	&flipper_move_stand,
	&flipper_move_start_run,
	&flipper_move_walk,
	&floater_move_activate,
	&floater_move_attack1,
	&floater_move_attack2,
	&floater_move_attack3,
	&floater_move_death,
	&floater_move_pain1,
	&floater_move_pain2,
	&floater_move_pain3,
	&floater_move_run,
	&floater_move_stand1,
	&floater_move_stand2,
	&floater_move_walk,
	&flyer_move_attack2,
	&flyer_move_bankleft,
	&flyer_move_bankright,
	&flyer_move_defense,
	&flyer_move_end_melee,
	&flyer_move_loop_melee,
	&flyer_move_pain1,
	&flyer_move_pain2,
	&flyer_move_pain3,
	&flyer_move_rollleft,
	&flyer_move_rollright,
	&flyer_move_run,
	&flyer_move_stand,
	&flyer_move_start,
	&flyer_move_start_melee,
	&flyer_move_stop,
	&flyer_move_walk,
	&flyQbe_move_attack_charge,
	&flyQbe_move_attack_walk,
	&flyQbe_move_stand,
	&gladiator_move_attack_gun,
	&gladiator_move_attack_melee,
	&gladiator_move_death,
	&gladiator_move_pain,
	&gladiator_move_pain_air,
	&gladiator_move_run,
	&gladiator_move_stand,
	&gladiator_move_walk,
	&gunner_move_attack_chain,
	&gunner_move_attack_grenade,
	&gunner_move_death,
	&gunner_move_duck,
	&gunner_move_endfire_chain,
	&gunner_move_fidget,
	&gunner_move_fire_chain,
	&gunner_move_pain1,
	&gunner_move_pain2,
	&gunner_move_pain3,
	&gunner_move_run,
	&gunner_move_runandshoot,
	&gunner_move_stand,
	&gunner_move_walk,
	&hover_move_attack1,
	&hover_move_backward,
	&hover_move_death1,
	&hover_move_end_attack,
	&hover_move_forward,
	&hover_move_land,
	&hover_move_pain1,
	&hover_move_pain2,
	&hover_move_pain3,
	&hover_move_run,
	&hover_move_stand,
	&hover_move_start_attack,
	&hover_move_stop1,
	&hover_move_stop2,
	&hover_move_takeoff,
	&hover_move_walk,
	&infantry_move_attack1,
	&infantry_move_attack2,
	&infantry_move_death1,
	&infantry_move_death2,
	&infantry_move_death3,
	&infantry_move_duck,
	&infantry_move_fidget,
	&infantry_move_pain1,
	&infantry_move_pain2,
	&infantry_move_run,
	&infantry_move_stand,
	&infantry_move_walk,
	&insane_move_crawl,
	&insane_move_crawl_death,
	&insane_move_crawl_pain,
	&insane_move_cross,
	&insane_move_down,
	&insane_move_downtoup,
	&insane_move_jumpdown,
	&insane_move_run_insane,
	&insane_move_run_normal,
	&insane_move_runcrawl,
	&insane_move_stand_death,
	&insane_move_stand_insane,
	&insane_move_stand_normal,
	&insane_move_stand_pain,
	&insane_move_struggle_cross,
	&insane_move_uptodown,
	&insane_move_walk_insane,
	&insane_move_walk_normal,
	&jorg_move_attack1,
	&jorg_move_attack2,
	&jorg_move_death,
	&jorg_move_end_attack1,
	&jorg_move_end_walk,
	&jorg_move_pain1,
	&jorg_move_pain2,
	&jorg_move_pain3,
	&jorg_move_run,
	&jorg_move_stand,
	&jorg_move_start_attack1,
	&jorg_move_start_walk,
	&jorg_move_walk,
	&makron_move_attack3,
	&makron_move_attack4,
	&makron_move_attack5,
	&makron_move_death2,
	&makron_move_death3,
	&makron_move_pain4,
	&makron_move_pain5,
	&makron_move_pain6,
	&makron_move_run,
	&makron_move_sight,
	&makron_move_stand,
	&makron_move_walk,
	&medic_move_attackBlaster,
	&medic_move_attackCable,
	&medic_move_attackHyperBlaster,
	&medic_move_death,
	&medic_move_duck,
	&medic_move_pain1,
	&medic_move_pain2,
	&medic_move_run,
	&medic_move_stand,
	&medic_move_walk,
	&mutant_move_attack,
	&mutant_move_death1,
	&mutant_move_death2,
	&mutant_move_idle,
	&mutant_move_jump,
	&mutant_move_pain1,
	&mutant_move_pain2,
	&mutant_move_pain3,
	&mutant_move_run,
	&mutant_move_stand,
	&mutant_move_start_walk,
	&mutant_move_walk,
	&parasite_move_break,
	&parasite_move_death,
	&parasite_move_drain,
	&parasite_move_end_fidget,
	&parasite_move_fidget,
	&parasite_move_pain1,
	&parasite_move_run,
	&parasite_move_stand,
	&parasite_move_start_fidget,
	&parasite_move_start_run,
	&parasite_move_start_walk,
	&parasite_move_stop_run,
	&parasite_move_stop_walk,
	&parasite_move_walk,
	&soldier_move_attack1,
	&soldier_move_attack2,
	&soldier_move_attack3,
	&soldier_move_attack4,
	&soldier_move_attack6,
	&soldier_move_death1,
	&soldier_move_death2,
	&soldier_move_death3,
	&soldier_move_death4,
	&soldier_move_death5,
	&soldier_move_death6,
	&soldier_move_duck,
	&soldier_move_pain1,
	&soldier_move_pain2,
	&soldier_move_pain3,
	&soldier_move_pain4,
	&soldier_move_run,
	&soldier_move_stand1,
	&soldier_move_stand3,
	&soldier_move_start_run,
	&soldier_move_walk1,
	&soldier_move_walk2,
	&supertank_move_attack1,
	&supertank_move_attack2,
	&supertank_move_attack3,
	&supertank_move_attack4,
	&supertank_move_backward,
	&supertank_move_death,
	&supertank_move_end_attack1,
	&supertank_move_forward,
	&supertank_move_pain1,
	&supertank_move_pain2,
	&supertank_move_pain3,
	&supertank_move_run,
	&supertank_move_stand,
	&supertank_move_turn_left,
	&supertank_move_turn_right,
	&tank_move_attack_blast,
	&tank_move_attack_chain,
	&tank_move_attack_fire_rocket,
	&tank_move_attack_post_blast,
	&tank_move_attack_post_rocket,
	&tank_move_attack_pre_rocket,
	&tank_move_attack_strike,
	&tank_move_death,
	&tank_move_pain1,
	&tank_move_pain2,
	&tank_move_pain3,
	&tank_move_reattack_blast,
	&tank_move_run,
	&tank_move_stand,
	&tank_move_start_run,
	&tank_move_start_walk,
	&tank_move_stop_run,
	&tank_move_stop_walk,
	&tank_move_walk
};

int MmoveToIndex(void *func)
{
	int i;
	int size = sizeof(savemmoves) / sizeof(void*);
	for (i = 0; i<size; i++)
		if (savemmoves[i] == func)
			return i;
	gi.error("MmoveToIndex: unknown mmove\n");
	return 0;		// shut up compiler :(
}


void *IndexToMmove(int index)
{
	int size = sizeof(savemmoves) / sizeof(void*);
	if (index < size)
		return savemmoves[index];
	gi.error("IndexToMmove: unknown index\n");
	return NULL;		// shut up compiler :(
}



*/